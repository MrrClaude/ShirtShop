{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'sports/cssStyle.html' %}
</head>
<body class="goto-here">

{% include 'sports/menu.html' %}

<div class="hero-wrap hero-bread" style="background-image: url('images/bg_6.jpg');">
  <div class="container">
    <div class="row no-gutters slider-text align-items-center justify-content-center">
      <div class="col-md-9 ftco-animate text-center">
        <p class="breadcrumbs"><span class="mr-2"><a href="{% url 'indexSport' %}">Home</a></span> <span>Checkout</span></p>
        <h1 class="mb-0 bread">Checkout</h1>
      </div>
    </div>
  </div>
</div>

<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xl-10 ftco-animate">

        <!-- Billing Form -->
        <form method="POST" action="{% url 'billing_add' %}" enctype="multipart/form-data" class="billing-form">
          {% csrf_token %}
          <h3 class="mb-4 billing-heading">Billing Details</h3>
          <div class="row align-items-end">
            <div class="col-md-6">
              <div class="form-group">
                <label for="first_name">First Name</label>
                <input type="text" name="first_name" class="form-control" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="last_name">Last Name</label>
                <input type="text" name="last_name" class="form-control" required>
              </div>
            </div>

            <div class="w-100"></div>
            <div class="col-md-12">
              <div class="form-group">
                <label for="country">Country</label>
                <select name="country" class="form-control" required>
                  <option value="France">France</option>
                  <option value="Italy">Italy</option>
                  <option value="Philippines">Philippines</option>
                  <option value="South Korea">South Korea</option>
                  <option value="Hongkong">Hongkong</option>
                  <option value="Japan">Japan</option>
                </select>
              </div>
            </div>

            <div class="w-100"></div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="address">Street Address</label>
                <input type="text" name="address" class="form-control" required placeholder="House number and street name">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <input type="text" name="address2" class="form-control" placeholder="Apartment, suite, unit etc: (optional)">
              </div>
            </div>

            <div class="w-100"></div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="town">Town / City</label>
                <input type="text" name="town" class="form-control" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="postcode">Postcode / ZIP *</label>
                <input type="text" name="postcode" class="form-control" required>
              </div>
            </div>

            <div class="w-100"></div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" name="phone" class="form-control" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" name="email" class="form-control" required>
              </div>
            </div>

            <div class="w-100"></div>
            <div class="col-md-12">
              <div class="form-group mt-4">
                <div class="radio">
                  <label class="mr-3"><input type="radio" name="optradio"> Create an Account? </label>
                  <label><input type="radio" name="optradio"> Ship to different address</label>
                </div>
              </div>
            </div>
          </div>

          <!-- Hidden total input to submit total price -->
          <input type="hidden" name="total" value="{{ total_price|floatformat:2 }}">

          <!-- Cart Summary inside the form -->
          <div class="row mt-5 pt-3 d-flex">
            <div class="col-md-6 d-flex">
              <div class="cart-detail cart-total bg-light p-3 p-md-4 w-100">
                <h3 class="billing-heading mb-4">Cart Total</h3>

                {% for key, item in cart.items %}
                <p class="d-flex">
                  <span>{{ item.productName }} ({{ item.size }}) x {{ item.quantity }}</span>
                  <span>${{ item.total|floatformat:2 }}</span>
                </p>
                {% endfor %}

                <hr>
                <p class="d-flex">
                  <span>Subtotal</span>
                  <span>${{ total_price|floatformat:2 }}</span>
                </p>
                <p class="d-flex">
                  <span>Delivery</span>
                  <span>$0.00</span>
                </p>
                <p class="d-flex">
                  <span>Discount</span>
                  <span>$0.00</span>
                </p>
                <hr>
                <p class="d-flex total-price">
                  <span>Total</span>
                  <span>${{ total_price|floatformat:2 }}</span>
                </p>
              </div>
            </div>

            <div class="col-md-6">
              <div class="cart-detail bg-light p-3 p-md-4 w-100">
                <h3 class="billing-heading mb-4">Payment Method</h3>
                <div class="form-group">
                  <div class="radio"><label><input type="radio" name="payment" class="mr-2"> Direct Bank Transfer</label></div>
                </div>
                <div class="form-group">
                  <div class="radio"><label><input type="radio" name="payment" class="mr-2"> Check Payment</label></div>
                </div>
                <div class="form-group">
                  <div class="radio"><label><input type="radio" name="payment" class="mr-2"> Paypal</label></div>
                </div>
                <div class="form-group">
                  <div class="checkbox"><label><input type="checkbox" class="mr-2"> I have read and accept the terms and conditions</label></div>
                </div>

                QR Code Image: <input type="file" name="qr_code_image"><br><br>
                <!-- Submit button inside the form -->
                <input type="submit" class="site-btn" value="PLACE ORDER">

              </div>
            </div>
          </div>

        </form>

      </div>
    </div>
  </div>
</section>

{% include 'sports/footer.html' %}
{% include 'sports/js.html' %}

<script>
  $(document).ready(function(){
    var quantitiy=0;
    $('.quantity-right-plus').click(function(e){
      e.preventDefault();
      var quantity = parseInt($('#quantity').val());
      $('#quantity').val(quantity + 1);
    });

    $('.quantity-left-minus').click(function(e){
      e.preventDefault();
      var quantity = parseInt($('#quantity').val());
      if(quantity>0){
        $('#quantity').val(quantity - 1);
      }
    });
  });
</script>

</body>
</html>
